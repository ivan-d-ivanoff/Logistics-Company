{% extends "base_app.html" %}
{% block title %}{% if office %}Edit{% else %}Create{% endif %} Office{% endblock %}
{% block page %}offices{% endblock %}

{% block content %}
<header class="app-header">
  <h1>{% if office %}Edit{% else %}Create{% endif %} Office</h1>
</header>

<section class="card">
  <form method="post">
    {% csrf_token %}

    <div class="form-grid">
      <div class="form-group">
        <label>Company</label>
        <select name="company" required class="select">
          {% for c in companies %}
            <option value="{{ c.id }}"
              {% if office and office.company.id == c.id %}selected{% endif %}
            >
              {{ c.name }}
            </option>
          {% endfor %}
        </select>
      </div>

      <div class="form-group">
        <label>Name</label>
        <input name="name" class="form-control" value="{{ office.name|default:'' }}" required>
      </div>

      <div class="form-group">
        <label>Phone</label>
        <input name="phone" class="form-control" value="{{ office.phone|default:'' }}">
      </div>

      <div class="form-group">
        <label>Address</label>
        <select name="address" required class="select">
          {% for a in addresses %}
            <option value="{{ a.id }}"
              {% if office and office.address.id == a.id %}selected{% endif %}
            >
              {{ a }}
            </option>
          {% endfor %}
        </select>
      </div>

      <div class="form-group">
        <label>Working hours</label>
        <input
          name="working_hours"
          class="form-control"
          value="{{ office.working_hours|default:'' }}"
        >
      </div>
    </div>

    <div class="modal-footer">
      <button class="btn btn-primary">Save</button>
      <a href="{% url 'office_list' %}" class="btn btn-outline">Cancel</a>
    </div>
  </form>
</section>
{% endblock %}
