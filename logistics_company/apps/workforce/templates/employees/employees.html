{% extends "base_app.html" %}

{% block title %}Employees{% endblock %}
{% block page %}employees{% endblock %}

{% block content %}
<header class="app-header">
  <h1>Employees</h1>
  <p>Manage company staff and couriers</p>
</header>

<section class="card">
  <div class="card-header">
    <div>
      <div class="card-title">All Employees</div>
      <div class="card-subtitle">View and manage company employees</div>
    </div>

    <div style="display:flex; gap:12px; align-items:center;">
      <input
        id="employeesSearch"
        class="search-input"
        placeholder="Search by name or email..."
      />
      <button id="addEmployeeBtn" class="btn btn-primary">
        + Add Employee
      </button>
    </div>
  </div>

  <div class="table-wrapper">
    <table class="table">
      <thead>
        <tr>
          <th>NAME</th>
          <th>EMAIL</th>
          <th>POSITION</th>
          <th>OFFICE</th>
          <th>PHONE</th>
          <th>ACTIONS</th>
        </tr>
      </thead>
      <tbody id="employeesTableBody"></tbody>
    </table>
  </div>

  <div
    id="employeesCountInfo"
    style="font-size:12px; color: black; margin-top:8px;"
  >
    Showing 0 results
  </div>
</section>

<!-- Employee Modal -->
<div id="employeeModal" class="modal" aria-hidden="true">
  <div class="modal-backdrop" data-close="1"></div>

  <div
    class="modal-card"
    role="dialog"
    aria-modal="true"
    aria-labelledby="employeeModalTitle"
  >
    <div class="modal-header">
      <div>
        <div id="employeeModalTitle" class="modal-title">
          Add Employee
        </div>
        <div class="modal-subtitle">
          Create or edit an employee profile
        </div>
      </div>
      <button
        class="btn-icon"
        id="employeeModalCloseBtn"
        title="Close"
      >
        ✖️
      </button>
    </div>

    <form id="employeeForm" class="modal-body">
      <input type="hidden" id="employeeId" />

      <div class="form-grid">
        <div class="form-group">
          <label class="form-label">Full name</label>
          <input
            id="empName"
            class="form-control"
            placeholder="e.g. John Doe"
            required
          />
        </div>

        <div class="form-group">
          <label class="form-label">Email</label>
          <input
            id="empEmail"
            type="email"
            class="form-control"
            placeholder="e.g. john@logitrack.com"
            required
          />
        </div>

        <div class="form-group">
          <label class="form-label">Position</label>
          <select id="empRole" class="select" required>
            <option value="Courier">Courier</option>
            <option value="Office Staff">Office Staff</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Office</label>
          <input
            id="empOffice"
            class="form-control"
            placeholder="e.g. Downtown Office"
            required
          />
        </div>

        <div class="form-group">
          <label class="form-label">Phone</label>
          <input
            id="empPhone"
            class="form-control"
            placeholder="+359..."
          />
        </div>

        <div class="form-group">
          <label class="form-label">
            Login password (optional)
          </label>
          <input
            id="empPassword"
            type="password"
            class="form-control"
            placeholder="Leave empty to keep existing / default"
          />
          <small
            style="color: var(--text-muted); display:block; margin-top:6px;"
          >
            If set, this employee can log in with role <b>employee</b>.
          </small>
        </div>
      </div>

      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-outline"
          id="employeeCancelBtn"
        >
          Cancel
        </button>
        <button
          type="submit"
          class="btn btn-primary"
          id="employeeSaveBtn"
        >
          Save
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
